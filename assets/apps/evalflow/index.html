// INSTRUCTOR DASHBOARD
        if (userRole === 'instructor') {
          return React.createElement('div', { className: "min-h-screen bg-gray-50" },
            // Header
            React.createElement('div', { className: "bg-white shadow" },
              React.createElement('div', { className: "max-w-7xl mx-auto px-4 py-4 flex justify-between items-center" },
                React.createElement('div', null,
                  React.createElement('h1', { className: "text-2xl font-bold text-indigo-600" }, 'EvalFlow'),
                  React.createElement('p', { className: "text-sm text-gray-600" }, currentUser.email)
                ),
                React.createElement('button', { onClick: handleLogout, className: "flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700" },
                  React.createElement(LogOut, { size: 18 }),
                  'Logout'
                )
              )
            ),

            // Messages
            React.createElement('div', { className: "max-w-7xl mx-auto px-4 py-4" },
              error && React.createElement('div', { className: "mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm flex justify-between items-center" },
                error,
                React.createElement('button', { onClick: () => setError(''), className: "text-red-900 hover:text-red-700" },
                  React.createElement(X, { size: 16 })
                )
              ),
              success && React.createElement('div', { className: "mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm flex justify-between items-center" },
                success,
                React.createElement('button', { onClick: () => setSuccess(''), className: "text-green-900 hover:text-green-700" },
                  React.createElement(X, { size: 16 })
                )
              )
            ),

            // Tabs
            React.createElement('div', { className: "max-w-7xl mx-auto px-4" },
              React.createElement('div', { className: "flex gap-2 border-b mb-6" },
                ['courses', 'sections', 'students', 'groups', 'reports'].map(tab =>
                  React.createElement('button', {
                    key: tab,
                    onClick: () => setActiveTab(tab),
                    className: `px-4 py-2 font-medium capitalize ${activeTab === tab ? 'border-b-2 border-indigo-600 text-indigo-600' : 'text-gray-600 hover:text-gray-900'}`
                  }, tab)
                )
              ),

              // COURSES TAB
              activeTab === 'courses' && React.createElement('div', { className: "space-y-6" },
                React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'Add Course'),
                  React.createElement('div', { className: "flex gap-2" },
                    React.createElement('input', {
                      type: "text",
                      placeholder: "Course Name",
                      value: courseName,
                      onChange: (e) => setCourseName(e.target.value),
                      className: "flex-1 px-4 py-2 border rounded-lg"
                    }),
                    React.createElement('button', {
                      onClick: addCourse,
                      className: "px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"
                    }, 'Add')
                  )
                ),
                React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'My Courses'),
                  courses.length === 0 ? React.createElement('p', { className: "text-gray-500" }, 'No courses yet') :
                    React.createElement('div', { className: "space-y-2" },
                      courses.map(course =>
                        React.createElement('div', {
                          key: course.id,
                          className: "flex justify-between items-center p-4 border rounded-lg hover:bg-gray-50"
                        },
                          React.createElement('span', { className: "font-medium" }, course.name),
                          React.createElement('button', {
                            onClick: () => setDeleteConfirm({ type: 'courses', id: course.id, name: course.name }),
                            className: "p-2 text-red-600 hover:bg-red-50 rounded"
                          }, React.createElement(Trash2, { size: 18 }))
                        )
                      )
                    )
                )
              ),

              // SECTIONS TAB
              activeTab === 'sections' && React.createElement('div', { className: "space-y-6" },
                React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'Add Section'),
                  React.createElement('div', { className: "space-y-3" },
                    React.createElement('select', {
                      value: selectedCourse || '',
                      onChange: (e) => setSelectedCourse(e.target.value),
                      className: "w-full px-4 py-2 border rounded-lg"
                    },
                      React.createElement('option', { value: "" }, 'Select Course'),
                      courses.map(c => React.createElement('option', { key: c.id, value: c.id }, c.name))
                    ),
                    React.createElement('div', { className: "flex gap-2" },
                      React.createElement('input', {
                        type: "text",
                        placeholder: "Section Name",
                        value: sectionName,
                        onChange: (e) => setSectionName(e.target.value),
                        className: "flex-1 px-4 py-2 border rounded-lg"
                      }),
                      React.createElement('button', {
                        onClick: addSection,
                        className: "px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"
                      }, 'Add')
                    )
                  )
                ),
                React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'All Sections'),
                  sections.length === 0 ? React.createElement('p', { className: "text-gray-500" }, 'No sections yet') :
                    React.createElement('div', { className: "space-y-2" },
                      sections.map(section => {
                        const course = courses.find(c => c.id === section.courseId);
                        return React.createElement('div', {
                          key: section.id,
                          className: "flex justify-between items-center p-4 border rounded-lg hover:bg-gray-50"
                        },
                          React.createElement('div', null,
                            React.createElement('span', { className: "font-medium" }, section.name),
                            course && React.createElement('span', { className: "ml-2 text-sm text-gray-600" }, `(${course.name})`)
                          ),
                          React.createElement('button', {
                            onClick: () => setDeleteConfirm({ type: 'sections', id: section.id, name: section.name }),
                            className: "p-2 text-red-600 hover:bg-red-50 rounded"
                          }, React.createElement(Trash2, { size: 18 }))
                        );
                      })
                    )
                )
              ),

              // STUDENTS TAB
              activeTab === 'students' && React.createElement('div', { className: "space-y-6" },
                React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('div', { className: "flex justify-between items-center mb-4" },
                    React.createElement('h2', { className: "text-xl font-bold" }, 'Import Students'),
                    React.createElement('button', {
                      onClick: downloadTemplate,
                      className: "flex items-center gap-2 px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700"
                    },
                      React.createElement(FileDown, { size: 18 }),
                      'Download Template'
                    )
                  ),
                  React.createElement('button', {
                    onClick: () => setShowBulkImport(!showBulkImport),
                    className: "w-full flex items-center justify-center gap-2 px-4 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"
                  },
                    React.createElement(Upload, { size: 20 }),
                    'Bulk Import CSV'
                  ),
                  showBulkImport && React.createElement('div', { className: "mt-4 p-4 border rounded-lg bg-gray-50" },
                    React.createElement('input', {
                      type: "file",
                      accept: ".csv",
                      onChange: handleImportFileChange,
                      className: "mb-3 w-full"
                    }),
                    importPreview.length > 0 && React.createElement('div', null,
                      React.createElement('p', { className: "text-sm font-medium mb-2" }, `Preview: ${importPreview.length} students`),
                      React.createElement('div', { className: "max-h-48 overflow-y-auto mb-3 p-2 bg-white border rounded text-xs" },
                        importPreview.slice(0, 5).map((s, i) =>
                          React.createElement('div', { key: i, className: "py-1" },
                            `${s.name} - ${s.email} - ${s.section || s.sectionname || s['section name']}`
                          )
                        ),
                        importPreview.length > 5 && React.createElement('p', { className: "text-gray-500 py-1" }, `... and ${importPreview.length - 5} more`)
                      ),
                      importProgress && React.createElement('p', { className: "text-sm text-indigo-600 mb-2" }, importProgress),
                      React.createElement('button', {
                        onClick: handleBulkImport,
                        disabled: importing,
                        className: "w-full px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 disabled:opacity-50"
                      }, importing ? 'Importing...' : `Import ${importPreview.length} Students`)
                    )
                  )
                ),
                React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'All Students'),
                  React.createElement('select', {
                    value: selectedSection || '',
                    onChange: (e) => setSelectedSection(e.target.value),
                    className: "w-full px-4 py-2 border rounded-lg mb-4"
                  },
                    React.createElement('option', { value: "" }, 'All Sections'),
                    sections.map(s => React.createElement('option', { key: s.id, value: s.id }, s.name))
                  ),
                  students.filter(s => !selectedSection || s.sectionId === selectedSection).length === 0 ?
                    React.createElement('p', { className: "text-gray-500" }, 'No students yet') :
                    React.createElement('div', { className: "space-y-2" },
                      students.filter(s => !selectedSection || s.sectionId === selectedSection)
                        .sort((a, b) => (a.presentationOrder || 999) - (b.presentationOrder || 999))
                        .map(student => {
                          const section = sections.find(sec => sec.id === student.sectionId);
                          const group = groups.find(g => g.id === student.groupId);
                          return React.createElement('div', {
                            key: student.id,
                            className: "flex justify-between items-center p-4 border rounded-lg hover:bg-gray-50"
                          },
                            React.createElement('div', { className: "flex-1" },
                              React.createElement('div', { className: "font-medium" }, student.name),
                              React.createElement('div', { className: "text-sm text-gray-600" },
                                `${student.email} • ${section?.name || 'No section'} • Order: ${student.presentationOrder || 'N/A'}${group ? ` • Group ${group.name}` : ''}`
                              )
                            ),
                            React.createElement('div', { className: "flex gap-2" },
                              React.createElement('input', {
                                type: "number",
                                placeholder: "Order",
                                defaultValue: student.presentationOrder || '',
                                onBlur: (e) => e.target.value && updatePresentationOrder(student.id, e.target.value),
                                className: "w-20 px-2 py-1 border rounded text-sm"
                              }),
                              React.createElement('button', {
                                onClick: () => setDeleteConfirm({ type: 'students', id: student.id, name: student.name }),
                                className: "p-2 text-red-600 hover:bg-red-50 rounded"
                              }, React.createElement(Trash2, { size: 18 }))
                            )
                          );
                        })
                    )
                )
              ),

              // GROUPS TAB
              activeTab === 'groups' && React.createElement('div', { className: "space-y-6" },
                React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'Groups'),
                  React.createElement('p', { className: "text-gray-600" }, 'Groups are managed via CSV import. Include "Group" column in your import file.')
                )
              ),

              // REPORTS TAB
              activeTab === 'reports' && React.createElement('div', { className: "space-y-6" },
                React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'Export Reports'),
                  React.createElement('select', {
                    value: selectedSection || '',
                    onChange: (e) => setSelectedSection(e.target.value),
                    className: "w-full px-4 py-2 border rounded-lg mb-4"
                  },
                    React.createElement('option', { value: "" }, 'Select Section'),
                    sections.map(s => React.createElement('option', { key: s.id, value: s.id }, s.name))
                  ),
                  React.createElement('button', {
                    onClick: exportToCSV,
                    className: "w-full flex items-center justify-center gap-2 px-4 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700"
                  },
                    React.createElement(FileDown, { size: 20 }),
                    'Export to CSV'
                  )
                ),
                selectedSection && React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                  React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'Section Overview'),
                  React.createElement('div', { className: "space-y-4" },
                    students.filter(s => s.sectionId === selectedSection).map(student => {
                      const presEvals = evaluations.filter(e => e.evaluatedStudentId === student.id && e.type === 'presentation');
                      const groupEvals = evaluations.filter(e => e.evaluatedStudentId === student.id && e.type === 'group');
                      const presAvg = presEvals.length > 0 ? (presEvals.reduce((sum, e) => sum + e.score, 0) / presEvals.length).toFixed(1) : 'N/A';
                      const groupAvg = groupEvals.length > 0 ? (groupEvals.reduce((sum, e) => sum + e.score, 0) / groupEvals.length).toFixed(1) : 'N/A';
                      return React.createElement('div', {
                        key: student.id,
                        className: "p-4 border rounded-lg"
                      },
                        React.createElement('div', { className: "font-medium mb-2" }, student.name),
                        React.createElement('div', { className: "grid grid-cols-2 gap-4 text-sm" },
                          React.createElement('div', null,
                            React.createElement('span', { className: "text-gray-600" }, 'Presentation: '),
                            React.createElement('span', { className: "font-medium" }, `${presAvg} (${presEvals.length} evals)`)
                          ),
                          React.createElement('div', null,
                            React.createElement('span', { className: "text-gray-600" }, 'Group: '),
                            React.createElement('span', { className: "font-medium" }, `${groupAvg} (${groupEvals.length} evals)`)
                          )
                        )
                      );
                    })
                  )
                )
              )
            ),

            // Delete Confirmation Modal
            deleteConfirm && React.createElement('div', {
              className: "fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",
              onClick: () => setDeleteConfirm(null)
            },
              React.createElement('div', {
                className: "bg-white p-6 rounded-lg shadow-xl max-w-md",
                onClick: (e) => e.stopPropagation()
              },
                React.createElement('h3', { className: "text-lg font-bold mb-2" }, 'Confirm Delete'),
                React.createElement('p', { className: "text-gray-600 mb-4" }, `Are you sure you want to delete "${deleteConfirm.name}"?`),
                React.createElement('div', { className: "flex gap-2 justify-end" },
                  React.createElement('button', {
                    onClick: () => setDeleteConfirm(null),
                    className: "px-4 py-2 border rounded-lg hover:bg-gray-50"
                  }, 'Cancel'),
                  React.createElement('button', {
                    onClick: () => deleteItem(deleteConfirm.type, deleteConfirm.id),
                    className: "px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"
                  }, 'Delete')
                )
              )
            )
          );
        }

        // STUDENT VIEW
        return React.createElement('div', { className: "min-h-screen bg-gray-50" },
          React.createElement('div', { className: "bg-white shadow mb-6" },
            React.createElement('div', { className: "max-w-4xl mx-auto px-4 py-4 flex justify-between items-center" },
              React.createElement('div', null,
                React.createElement('h1', { className: "text-2xl font-bold text-green-600" }, 'EvalFlow Student'),
                React.createElement('p', { className: "text-sm text-gray-600" }, currentUser.name)
              ),
              React.createElement('button', {
                onClick: handleLogout,
                className: "flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700"
              },
                React.createElement(LogOut, { size: 18 }),
                'Logout'
              )
            )
          ),
          React.createElement('div', { className: "max-w-4xl mx-auto px-4" },
            error && React.createElement('div', { className: "mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm" }, error),
            success && React.createElement('div', { className: "mb-4 p-3 bg-green-50 border border-green-200 rounded-lg text-green-700 text-sm" }, success),
            
            React.createElement('div', { className: "grid md:grid-cols-2 gap-6" },
              // Presentation Evaluations
              React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'Presentation Evaluations'),
                students.filter(s => s.sectionId === selectedSection && s.id !== currentUser.id)
                  .sort((a, b) => (a.presentationOrder || 999) - (b.presentationOrder || 999))
                  .map(student => {
                    const submitted = submittedEvals.has(`presentation-${student.id}`);
                    return React.createElement('div', {
                      key: student.id,
                      className: "mb-4 p-4 border rounded-lg"
                    },
                      React.createElement('div', { className: "font-medium mb-2" }, student.name),
                      submitted ? React.createElement('p', { className: "text-sm text-green-600" }, '✓ Submitted') :
                        React.createElement('div', { className: "flex gap-2" },
                          React.createElement('input', {
                            type: "number",
                            min: "1",
                            max: "10",
                            placeholder: "Score (1-10)",
                            value: presentationScores[student.id] || '',
                            onChange: (e) => setPresentationScores(prev => ({ ...prev, [student.id]: e.target.value })),
                            className: "flex-1 px-3 py-2 border rounded-lg"
                          }),
                          React.createElement('button', {
                            onClick: () => submitPresentationEval(student.id, presentationScores[student.id]),
                            className: "px-4 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700"
                          }, 'Submit')
                        )
                    );
                  })
              ),
              
              // Group Evaluations
              React.createElement('div', { className: "bg-white p-6 rounded-lg shadow" },
                React.createElement('h2', { className: "text-xl font-bold mb-4" }, 'Group Member Evaluations'),
                students.filter(s => s.sectionId === selectedSection && s.groupId === currentUser.groupId && s.id !== currentUser.id)
                  .map(student => {
                    const submitted = submittedEvals.has(`group-${student.id}`);
                    return React.createElement('div', {
                      key: student.id,
                      className: "mb-4 p-4 border rounded-lg"
                    },
                      React.createElement('div', { className: "font-medium mb-2" }, student.name),
                      submitted ? React.createElement('p', { className: "text-sm text-green-600" }, '✓ Submitted') :
                        React.createElement('div', { className: "flex gap-2" },
                          React.createElement('input', {
                            type: "number",
                            min: "1",
                            max: "10",
                            placeholder: "Score (1-10)",
                            value: groupScores[student.id] || '',
                            onChange: (e) => setGroupScores(prev => ({ ...prev, [student.id]: e.target.value })),
                            className: "flex-1 px-3 py-2 border rounded-lg"
                          }),
                          React.createElement('button', {
                            onClick: () => submitGroupEval(student.id, groupScores[student.id]),
                            className: "px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700"
                          }, 'Submit')
                        )
                    );
                  })
              )
            )
          )
        );
